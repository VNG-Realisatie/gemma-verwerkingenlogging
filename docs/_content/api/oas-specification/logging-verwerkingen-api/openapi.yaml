openapi: 3.0.0
info:
  title: API voor logging van verwerkingen
  description: API-specificatie voor gemeenten ten behoeve van de registratie en ontsluiting van de metagegevens behorende bij de verwerkingen van (persoons)gegevens. 
  contact:
    url: https://vng-realisatie.github.io/gemma-verwerkingenlogging/api/index
    email: henri.korver@vng.nl
  license:
    name: EUPL 1.2
    url: https://opensource.org/licenses/EUPL-1.2
  version: 0.1.0
security: 
  - JWT-Claims: []
paths:
  /verwerkingsacties:
    get:
      tags:
        - REST calls
      summary: Alle VERWERKINGSACTIEs opvragen.
      operationId: verwerkingsactie_list
      description: Door de juiste parameters mee te geven kun je zoeken naar de voor jouw relevante VERWERKINGSACTIEs.
      parameters:
        - name: vertrouwelijkheid
          in: query
          description: Geeft de mate van vertrouwelijkheid van de verwerking aan.
          schema:
            type: string
            enum:
              - Normaal
              - Vertrouwelijk
              - Opgeheven
          example: Normaal
        - name: objecttype
          in: query
          description: Soort object dat bij de verwerkingsactie betrokken is.
          required: true
          schema:
            type: string
            enum:
              - Persoon
          example: Persoon
        - name: soortObjectId
          in: query
          description: Soort identificator waarmee het object geïdentificeerd wordt.
          required: true
          schema:
            type: string
            format: naam
            maxLength: 80
            example: BSN
        - name: objectId
          in: query
          description: Identificator van het object.
          required: true
          schema:
            type: string
            format: identificator
            maxLength: 40
            example: "479580261"
        - name: beginDatum
          in: query
          description: Tijdstip van de verwerkingsactie moet groter of gelijk zijn aan deze datum om teruggegeven te worden.
          required: true
          schema:
            type: string
            format: date
            example: "2020-10-24"
        - name: eindDatum
          in: query
          description: Tijdstip van de verwerkingsactie moet kleiner of gelijk zijn aan deze datum om teruggegeven te worden.
          required: true
          schema:
            type: string
            format: date-time
            example: "2020-11-24"
        # - name: beperkteSet
        #   in: query
        #   description: In geval van 'true' worden niet alle attributen teruggegeven. Bijvoorbeeld attributen zoals 'gebruiker', 'gegevensbron' en 'systeem'  zijn niet relevant voor burgers. In geval van 'false' worden alle velden teruggegeven in het resultaat.
        #   schema:
        #     type: boolean
        #     default: true
      responses:
        '200':
          description: OK
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/json:
              schema:
                required:
                - count
                - results
                type: object
                properties:
                  count:
                    type: integer
                  next:
                    type: string
                    format: uri
                    nullable: true
                  previous:
                    type: string
                    format: uri
                    nullable: true
                  results:
                    type: array
                    items:
                      $ref: '#/components/schemas/Verwerkingsactie'
        '401':
          description: Unauthorized
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '403':
          description: Forbidden
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '406':
          description: Not acceptable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '409':
          description: Conflict
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '410':
          description: Gone
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '415':
          description: Unsupported media type
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '429':
          description: Too many requests
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: Internal server error
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '501':
          description: Not Implemented
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: Service Unavailable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
      security: 
      - JWT-Claims:
        - read:restricted
        - read:normal
        - read:confidential
    post:
      tags:
        - REST calls
      summary: Maak een VERWERKINGSACTIE aan.
      operationId: verwerkingsactie_create
      description: Maak een VERWERKINGSACTIE aan.
      requestBody:
        $ref: '#/components/requestBodies/Verwerkingsactie'
      responses:
        '201':
          description: Created
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
            Location:
              schema:
                type: string
                format: uri
              description: URL waar de resource leeft.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Verwerkingsactie'
        '400':
          description: Bad request
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
        '401':
          description: Unauthorized
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '403':
          description: Forbidden
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '406':
          description: Not acceptable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '409':
          description: Conflict
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '410':
          description: Gone
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '415':
          description: Unsupported media type
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '429':
          description: Too many requests
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: Internal server error
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '501':
          description: Not Implemented
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: Service Unavailable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
      security: 
      - JWT-Claims:
        - create:normal
        - create:confidential
  /verwerkingsacties/{uuid}:
    put:
      tags:
        - REST calls
      operationId: verwerkingsactie_update
      summary: Wijzig VERWERKINGSACTIE.
      description: Wijzigt een bestaande verwerkingsactie in het log. Alle informatie over de verwerkingsactie moet opnieuw meegegeven worden, ook de informatie die niet wijzigt.
      requestBody:
        $ref: '#/components/requestBodies/Verwerkingsactie'
      responses:
        '200':
          description: OK
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Verwerkingsactie'
        '400':
          description: Bad request
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
        '401':
          description: Unauthorized
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '403':
          description: Forbidden
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '404':
          description: Not found
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '406':
          description: Not acceptable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '409':
          description: Conflict
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '410':
          description: Gone
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '415':
          description: Unsupported media type
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '429':
          description: Too many requests
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: Internal server error
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '501':
          description: Not Implemented
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: Service Unavailable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
      security: 
      - JWT-Claims:
        - update:normal
        - update:confidential
    delete:
      tags:
        - REST calls
      operationId: verwerkingsactie_delete
      summary: Verwijder een VERWERKINGSACTIE.
      description: De opgegeven VERWERKINGSACTIE wordt gemarkeerd als vervallen. Hierdoor zal deze niet meer geretourneerd worden door de inzage-functies van de logging API.
      responses:
        '204':
          description: No content
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
        '401':
          description: Unauthorized
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '403':
          description: Forbidden
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '404':
          description: Not found
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '406':
          description: Not acceptable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '409':
          description: Conflict
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '410':
          description: Gone
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '415':
          description: Unsupported media type
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '429':
          description: Too many requests
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: Internal server error
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '501':
          description: Not Implemented
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: Service Unavailable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
      security: 
      - JWT-Claims:
        - delete:normal 
        - delete:confidential
    parameters:
    - name: uuid
      in: path
      description: Unieke resource identifier (UUID4)
      required: true
      schema:
        type: string
        format: uuid
        example: "48086bf2-11b7-4603-9526-67d7c3bb6587"
  /wijzigBewaartermijnVerwerking:
    post:
      tags:
        - RPC calls
      summary: Wijzig bewaartermijn van Verwerking.
      operationId: wijzigBewaartermijnVerwerking
      description: Wijzigt de bewaartermijn van alle verwerkingsacties die in het kader van de opgegeven verwerking gelogd zijn.
      requestBody:
        $ref: '#/components/requestBodies/WijzigBewaartermijnVerwerking'
      responses:
        '201':
          description: Created
        '400':
          description: Bad request
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
        '401':
          description: Unauthorized
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '403':
          description: Forbidden
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '406':
          description: Not acceptable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '409':
          description: Conflict
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '410':
          description: Gone
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '415':
          description: Unsupported media type
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '429':
          description: Too many requests
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: Internal server error
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '501':
          description: Not Implemented
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: Service Unavailable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
      security: 
      - JWT-Claims:
        - update:normal
        - update:confidential
  /wijzigVertrouwelijkheidVerwerking:
    post:
      tags:
        - RPC calls
      summary: Wijzig vertrouwelijkheid van Verwerking.
      operationId: wijzigVertrouwelijkheidVerwerking
      description: Wijzigt de vertrouwelijkheid van alle verwerkingsacties die in het kader van de opgegeven verwerking gelogd zijn.
      requestBody:
        $ref: '#/components/requestBodies/WijzigVertrouwelijkheidVerwerking'
      responses:
        '201':
          description: Created
        '400':
          description: Bad request
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidatieFout'
        '401':
          description: Unauthorized
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '403':
          description: Forbidden
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '406':
          description: Not acceptable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '409':
          description: Conflict
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '410':
          description: Gone
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '415':
          description: Unsupported media type
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '429':
          description: Too many requests
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '500':
          description: Internal server error
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '501':
          description: Not Implemented
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
        '503':
          description: Service Unavailable
          headers:
            API-version:
              schema:
                type: string
              description: 'Geeft een specifieke API-versie aan in de context van
                een specifieke aanroep. Voorbeeld: 1.2.1.'
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Fout'
      security: 
      - JWT-Claims:
        - update:normal
        - update:confidential
components:
  requestBodies:
    Verwerkingsactie:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Verwerkingsactie'
      required: true
    WijzigBewaartermijnVerwerking:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/WijzigBewaartermijnVerwerking'
      required: true
    WijzigVertrouwelijkheidVerwerking:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/WijzigVertrouwelijkheidVerwerking'
      required: true
  securitySchemes:
    JWT-Claims:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    Verwerkingsactie:
      title: Verwerkingsactie
      description: Een verwerkingsactie is een operatie die wordt uitgevoerd door een geautomatiseerd systeem waarbij er (persoons)gegevens verwerkt worden. Een verwerkingsactie wordt uitgevoerd als onderdeel van (een handeling van) een verwerking.
      type: object
      required:
        - url
        - actieId
        - vertrouwelijkheid
        - tijdstip
        - tijdstipRegistratie
      properties:
        url:
          title: URL
          description: URL-referentie naar deze resource. Deze link wordt automatisch aangemaakt door het log.
          type: string
          format: uri
          maxLength: 1000
          minLength: 1
          readOnly: true
          example: "https://loggingapi.vng.cloud/api/v1/verwerkingsacties/7a22eb38-bca6-463f-9955-54ab040287cb"
        actieId:
          title: ID
          description: Identificator van de verwerkingsactie waar de persoon of het object bij betrokken is. Deze ID wordt automatisch aangemaakt door het log.
          type: string
          format: uuid
          readOnly: true
          example: "7a22eb38-bca6-463f-9955-54ab040287cb"
        actieNaam:
          title: Naam
          description: Naam van de verwerkingsactie.
          type: string
          maxLength: 242
          example: Zoeken personen
        handelingNaam:
          title: Handeling naam
          description:  Naam van de handeling waar de verwerkingsactie onderdeel van is.
          type: string
          maxLength: 242
          example: Intake
        verwerkingNaam:
          title: Verwerking naam
          description:  Naam van de verwerking waar de handeling een onderdeel van is.
          type: string
          maxLength: 242
          example: Huwelijk
        verwerkingId:
          title: Verwerking ID
          description: Identificator van de verwerking waar de handeling een onderdeel van is.
          type: string
          format: uuid
          example: "48086bf2-11b7-4603-9526-67d7c3bb6587"    
        verwerkingsactiviteitId:
          title: Verwerkingsactiviteit ID
          description: Identificator van de verwerkingsactiviteit die de verwerking rechtvaardigt.
          type: string
          format: uuid
          example: "5f0bef4c-f66f-4311-84a5-19e8bf359eaf"
        verwerkingsactiviteitUrl:
          title: Verwerkingsactiviteit URL
          description: URL-referentie naar de verwerkingsactiviteit.
          type: string
          format: uri
          maxLength: 1000
          minLength: 1
          example: "https://loggingapi.vng.cloud/api/v1/verwerkingsactiviteiten/5f0bef4c-f66f-4311-84a5-19e8bf359eaf"
        vertrouwelijkheid:
          title: Vertrouwelijkheid
          description: Geeft de mate van vertrouwelijkheid van de verwerking aan.
          type: string
          enum:
            - Normaal
            - Vertrouwelijk
            - Opgeheven
          example: Normaal
        bewaartermijn:
          title: Bewaartermijn
          description: Aantal jaar dat de verwerking bewaard moet blijven.
          type: integer
          minimum: 0
          maximum: 999
          example: 10
        uitvoerder:
          title: Uitvoerder
          description: Organisatie in OIN-formaat die de verwerking uitgevoerd heeft. Voor een beschrijving van het OIN-formaat Zie https://www.logius.nl/diensten/digikoppeling/documentatie in bijlage A van het document ‘Digikoppeling Identificatie en Authenticatie’.
          type: string
          pattern: '[0-9]{20}'
          example: "00000001821002193000"
        systeem:
          title: Systeem
          description: Het systeem dat de verwerkingsactie heeft uitgevoerd.
          type: string
          maxLength: 242
          example: "FooBarApp v2.1"
        gebruiker:
          title: Gebruiker
          description: Identificator van de gebruiker die de verwerkingsactie heeft geïnitieerd.
          type: string
          maxLength: 40
          example: "2ecf8e86-1a18-46ba-aa13-992c1dc231a5"
        gegevensbron:
          title: Gegevensbron
          description: Gegevensbron waarin de bij verwerkingsactie betrokken gegevens zijn opgeslagen.
          type: string
          maxLength: 242
          example: FooBar Database Publiekszaken
        soortAfnemerId:
          title: Soort afnemer ID
          description: Soort identificator waarmee de afnemer geïdentificeerd wordt.
          type: string
          maxLength: 242
          example: OIN
        afnemerId:
          title: Afnemer ID
          description: Bij levering van gegevens moet hier de identificator opgenomen worden van de organisatie die de gegevens ontvangt. Het attribuut Soort afnemer ID) bepaalt wat voor soort identificator gebruikt wordt om de afnemer te identificeren. Op dit moment kan gekozen worden uit een OIN voor organisaties en een BSN voor natuurlijke personen.
          type: string
          format: OIN
          maxLength: 40
          example: "00000001821002193000"
        verwerkingsactiviteitIdAfnemer:
          title: Verwerkingsactiviteit ID Afnemer
          description: Identificator van de verwerkingsactiviteit aan de kant van de afnemer. 
          type: string
          format: uuid
          example: "c5b9f4e7-8c79-41b9-91e2-6268419cb167"
        verwerkingsactiviteitUrlAfnemer:
          title: Verwerkingsactiviteit URL
          description: URL-referentie naar de verwerkingsactiviteit van de afnemer.
          type: string
          format: uri
          maxLength: 1000
          minLength: 1
          example: "https://www.amsterdam.nl/var/api/v1/verwerkingsactiviteiten/5f0bef4c-f66f-4311-84a5-19e8bf359eaf"
        verwerkingIdAfnemer:
          title: Verwerking ID afnemer
          description: Identificator van de verwerking aan de kant van de afnemer.
          type: string
          format: uuid
          example: "4b698de3-ffba-45e7-8697-a283ec863db2"
        tijdstip:
          title: Tijdstip
          description: Tijdstip waarop de verwerkingsactie is uitgevoerd.
          type: string
          format: date-time
          example: '2024-04-05T14:35:42+01:00'
        tijdstipRegistratie:
          title: Tijdstip
          description: Tijdstip waarop de verwerkingsactie in het log is geregistreerd. Wordt bepaald door het log. Niet door het loggende systeem.
          type: string
          format: date-time
          readOnly: true
          example: '2024-04-05T14:35:42+01:00'
        verwerkteObjecten:
          title: Verwerkte objecten
          type: array
          items: 
            $ref: '#/components/schemas/VerwerktObject'
    Fout:
      required:
      - code
      - title
      - status
      - detail
      - instance
      type: object
      properties:
        type:
          title: Type
          description: URI referentie naar het type fout, bedoeld voor developers
          type: string
        code:
          title: Code
          description: Systeemcode die het type fout aangeeft
          type: string
          minLength: 1
        title:
          title: Title
          description: Generieke titel voor het type fout
          type: string
          minLength: 1
        status:
          title: Status
          description: De HTTP status code
          type: integer
        detail:
          title: Detail
          description: Extra informatie bij de fout, indien beschikbaar
          type: string
          minLength: 1
        instance:
          title: Instance
          description: URI met referentie naar dit specifiek voorkomen van de fout.
            Deze kan gebruikt worden in combinatie met server logs, bijvoorbeeld.
          type: string
          minLength: 1
    FieldValidationError:
      required:
      - name
      - code
      - reason
      type: object
      properties:
        name:
          title: Name
          description: Naam van het veld met ongeldige gegevens
          type: string
          minLength: 1
        code:
          title: Code
          description: Systeemcode die het type fout aangeeft
          type: string
          minLength: 1
        reason:
          title: Reason
          description: Uitleg wat er precies fout is met de gegevens
          type: string
          minLength: 1
    ValidatieFout:
      required:
      - code
      - title
      - status
      - detail
      - instance
      - invalidParams
      type: object
      properties:
        type:
          title: Type
          description: URI referentie naar het type fout, bedoeld voor developers
          type: string
        code:
          title: Code
          description: Systeemcode die het type fout aangeeft
          type: string
          minLength: 1
        title:
          title: Title
          description: Generieke titel voor het type fout
          type: string
          minLength: 1
        status:
          title: Status
          description: De HTTP status code
          type: integer
        detail:
          title: Detail
          description: Extra informatie bij de fout, indien beschikbaar
          type: string
          minLength: 1
        instance:
          title: Instance
          description: URI met referentie naar dit specifiek voorkomen van de fout.
            Deze kan gebruikt worden in combinatie met server logs, bijvoorbeeld.
          type: string
          minLength: 1
        invalidParams:
          type: array
          items:
            $ref: '#/components/schemas/FieldValidationError'
    VerwerktObject:
      title: Verwerkt object
      description: Een persoon of object betrokken bij de verwerkingsactie.
      type: object
      required: 
        - objecttype
        - soortObjectId
        - objectID
      properties:
        objecttype: 
          title: Objecttype
          description: Soort object dat bij de verwerkingsactie betrokken is.
          type: string
          enum:
            - Persoon
        soortObjectId:
          title: Soort object ID
          description: Soort identificator waarmee het object geïdentificeerd wordt.
          type: string
          maxLength: 242
          example: BSN
        objectId:
          title: Object ID
          description: Identificator van het object.
          type: string
          format: identificator
          maxLength: 40
          example: "1234567"
        betrokkenheid:
          title: Betrokkenheid
          description: Geeft aan in welke hoedanigheid de persoon of het object betrokken was bij de verwerkingsactie.
          type: string
          maxLength: 242
          example: Getuige
        verwerkteSoortenGegevens:
          title: Verwerkte soorten gegevens
          type: array
          items: 
            $ref: '#/components/schemas/VerwerktSoortGegeven'
    VerwerktSoortGegeven:
      title: Verwerkt soort gegeven
      description: Een soort gegeven dat over een persoon of object betrokken bij een verwerkingsactie verwerkt is.
      type: object
      required: 
        - soortGegeven
      properties:
        soortGegeven:
          title: Soort gegeven
          description: Soort gegeven dat verwerkt is.
          type: string
          maxLength: 242
          example: "BSN"
    WijzigBewaartermijnVerwerking:
      title: Wijzig bewaartermijn van Verwerking
      type: object
      required:
        - verwerkingID
        - bewaartermijn
      properties:
        verwerkingId:
          title: Verwerking ID
          description: Identificator van de verwerking waar de handeling een onderdeel van is.
          type: string
          format: uuid
          example: "48086bf2-11b7-4603-9526-67d7c3bb6587"
        bewaartermijn:
          title: Bewaartermijn
          description: Aantal jaar dat de verwerking bewaard moet blijven.
          type: integer
          minimum: 0
          maximum: 999
          example: 5
    WijzigVertrouwelijkheidVerwerking:
      title: Wijzig vertrouwelijkheid van Verwerking
      type: object
      required:
        - verwerkingID
        - vertrouwelijkheid
      properties:
        verwerkingId:
          title: Verwerking ID
          description: Identificator van de verwerking waar de handeling een onderdeel van is.
          type: string
          format: uuid
          example: "48086bf2-11b7-4603-9526-67d7c3bb6587"
        vertrouwelijkheid:
          title: Vertrouwelijkheid
          description: Geeft de mate van vertrouwelijkheid van de verwerking aan.
          type: string
          enum:
            - Normaal
            - Vertrouwelijk
            - Opgeheven
servers:
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/VNGRealisatie/logging-api/0.1.0
